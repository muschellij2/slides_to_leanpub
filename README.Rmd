---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(googleLanguageR)
```


# slides_to_leanpub: A Shiny Application

<!-- badges: start -->
<!-- badges: end -->

The `slides_to_leanpub` Shiny application is to enable users to provide a link to a folder Google Slides presentation and create a Leanpub course.   The overlaid text is extracted as text from the speaker notes of the Google Slides documents.  
The video is generated by the slides with overlaid audio. This text is generated as audio using a Text-to-Speech service.  Currently, `presentation_to_video` only works with the Google Text-to-Speech API (https://cloud.google.com/text-to-speech/).  

```{r, echo = FALSE, eval = FALSE}
knitr::include_graphics("screenshot.png")
```

You should be able to run the app using:

```{r, eval = FALSE}
shiny::runApp()
```

if you have the app downloaded (after adding your authentication described below) or 

```{r, eval = FALSE}
shiny::runGitHub("muschellij2/slides_to_leanpub")
```

but that will not have the authentication needed to run the app.

## Setup

To set up the application, you need to authorize the Text-to-Speech API (https://cloud.google.com/text-to-speech/).  Authorization uses the [googleLanguageR](https://github.com/ropensci/googleLanguageR) package.  

Please go to https://github.com/ropensci/googleLanguageR#installation and follow the steps there.  You need to create a project, enable the text-to-speech API, then get a service account credential as a JSON file.  Name this JSON file, `google_authorization.json` and put in the directory of the application.
# Choosing Your Voice

The [`text2speech`](https://github.com/muschellij2/text2speech) package is used for the audio generation.  In order to determine what voices are available, you can run `text2speech::tts_voices(service)`, where `service`   For example:

```{r}
voices = text2speech::tts_voices(service = "google")
voices = voices[ voices$language == "English (US)", ]
voices
```


For Google, there are standard or [`WaveNet`](https://cloud.google.com/text-to-speech/docs/wavenet) (a neural network) voices.  The WaveNet voices tend to sound more natural, but are more expensive to render.  You can hear the voices at https://cloud.google.com/text-to-speech/docs/voices.


# Finding packages

Here is are any versions of packages used for the app that may not be from CRAN:
```{r, include=FALSE}
pkgs = c(
  "animation",
  "shiny",
  "shinyjs",
  "docxtractr",
  "shinydashboard",
  "text2speech",
  "ari",
  "ariExtra",
  "googleAuthR",
  "googleLanguageR",
  "grid",
  "gridExtra",
  "png",
  "googledrive"
)
```



```{r, echo = FALSE}
x = sessioninfo::session_info(pkgs = pkgs)
x = x$packages
src = x$source
x = x[ !grepl("CRAN", src), ]
knitr::kable(x)
```
